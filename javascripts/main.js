$.easing.easeOutCubic=function(s,t,i,a,e){return t==e?i+a:a*(-Math.pow(2,-12*t/e)+1)+i},$(document).ready(function(){function s(){e=$(".hats-content.active .col-padding").width(),$(".hats-content .col").css("height",e+2),$(".hats-content .col-padding").css("height",e)}var t=($(window).width(),$(window).height());if($(window).scroll(function(){var s=$(window).scrollTop();$("#title-panel").css("opacity",.8-$(window).scrollTop()/600),$("#title-panel-copy").css("opacity",1-$(window).scrollTop()/400),s>800?($("#title-panel").addClass("hidden"),$("#title-panel-copy").addClass("hidden")):($("#title-panel").removeClass("hidden"),$("#title-panel-copy").removeClass("hidden"))}),$(".go-top").click(function(){return $("html, body").animate({scrollTop:$(".top-of-page").offset().top-50},1e3,"easeOutCubic"),!1}),$(".go-contact").click(function(){return $("html, body").animate({scrollTop:$("section.contact").offset().top-45},1e3,"easeOutCubic"),$("section.contact").css("background","#00c1de"),setTimeout(function(){$("section.contact").css("background","#012639")},500),!1}),navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){var i=document.querySelector('meta[name="viewport"]');i&&(i.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0",document.body.addEventListener("gesturestart",function(){i.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},!1))}var a;$(window).scroll(function(){var s=$(this).scrollTop();$(window).scrollTop()>90?s>a?($("nav").addClass("nav-up"),$(".hats-nav").addClass("hats-nav-up")):a>s&&($("nav").removeClass("nav-up"),$(".hats-nav").removeClass("hats-nav-up")):($("nav").removeClass("nav-up"),$(".hats-nav").removeClass("hats-nav-up")),a=s,$(window).scrollTop()+$(window).height()>$(document).height()-50&&($("nav").removeClass("nav-up"),$(".hats-nav").removeClass("hats-nav-up"))}),setTimeout(function(){$(".js p, .js h1, .js h2, .js li, .js a").addClass("show-font")},500),$(".contact-link").click(function(){$(this).find("a").length&&(window.open.href=$(this).find("a:first").attr("href"))});var t=$(window).height();$(window).scroll(function(){var s=$(".footsteps").offset().top-$(document).scrollTop(),i=$(".footsteps-2").offset().top-$(document).scrollTop(),a=$(".footsteps-circle").offset().top-$(document).scrollTop(),e=t/2;e>s&&$(".footsteps").addClass("on"),0>s&&$(".footsteps").removeClass("on"),s>t&&$(".footsteps").removeClass("on"),e>i&&$(".footsteps-2").addClass("on"),0>i&&$(".footsteps-2").removeClass("on"),i>t&&$(".footsteps-2").removeClass("on"),e>a&&$(".footsteps-circle").addClass("on"),0>a&&$(".footsteps-circle").removeClass("on"),a>t&&$(".footsteps-circle").removeClass("on")}),$(window).width()>1e3&&$(window).scroll(function(){var s=$(window).scrollTop();$("#hero").css("background-position","center "+(50+-(+s/10))+"%")});var e;$(".fabric-nav").click(function(){$("html, body").animate({scrollTop:$(".top-of-page").offset().top-50}),$(".fabric").css("display","block").addClass("active"),$(".felt, .straw").css("display","none").removeClass("active"),$(this).addClass("active"),$(".felt-nav, .straw-nav").removeClass("active")}),$(".felt-nav").click(function(){$("html, body").animate({scrollTop:$(".top-of-page").offset().top-50}),$(".felt").css("display","block").addClass("active"),$(".fabric, .straw").css("display","none").removeClass("active"),$(this).addClass("active"),$(".fabric-nav, .straw-nav").removeClass("active")}),$(".straw-nav").click(function(){$("html, body").animate({scrollTop:$(".top-of-page").offset().top-50}),$(".straw").css("display","block").addClass("active"),$(".fabric, .felt").css("display","none").removeClass("active"),$(this).addClass("active"),$(".felt-nav, .fabric-nav").removeClass("active")}),s(),$(window).resize(s),$("#hats .col-padding img").click(function(){var s=$(this);$(this).parent().hasClass("small-size")&&($(this).parents(".hats-content .col").css("height",e+2),$(this).parents(".hats-content .col-padding").css("height",e),$(this).parent().addClass("actual-size"),$(this).parent().removeClass("small-size"),setTimeout(function(){$(s).parent().addClass("clicked")},400),$(this).siblings().find(".open-hat").css("display","none"),$(this).siblings().find(".close-hat").css("display","inline-block"),$(window).width()<736?($(this).css("top","-130px").css("left","-130px"),$(this).parent().find("img").css("top","-130px").css("left","-130px")):($(this).css("top","-240px").css("left","-240px"),$(this).parent().find("img").css("top","-240px").css("left","-240px")))}),$(".open-hat").click(function(){var s=$(this).parents(".col-padding");$(this).parents(".col-padding").hasClass("small-size")&&($(this).parents(".hats-content .col").css("height",e+2),$(this).parents(".hats-content .col-padding").css("height",e),$(this).parents(".col-padding").addClass("actual-size"),$(this).parents(".col-padding").removeClass("small-size"),setTimeout(function(){$(s).addClass("clicked")},400),$(this).css("display","none"),$(this).siblings().css("display","inline-block"),$(window).width()<736?$(this).parents(".col-padding").find("img").css("top","-130px").css("left","-130px"):$(this).parents(".col-padding").find("img").css("top","-240px").css("left","-240px"))}),$(".close-hat").click(function(){var s=$(this).parents(".col-padding");$(this).parents(".col-padding").hasClass("actual-size")&&($(this).parents(".hats-content .col").css("height",e+2),$(this).parents(".hats-content .col-padding").css("height",e),$(this).parents().siblings("img").css("top","0").css("left","0"),$(this).parents().siblings("img").css("height","").css("width",""),$(this).parents(".col-padding").removeClass("actual-size"),$(this).parents(".col-padding").addClass("small-size"),setTimeout(function(){$(s).removeClass("clicked")},400),$(this).css("display","none"),$(this).siblings().css("display","inline-block"))}),$("#hats .col-padding img").dblclick(function(){$(this).parent().hasClass("clicked")&&($(this).parent().removeClass("clicked"),$(this).parents(".hats-content .col").css("height",e+2),$(this).parents(".hats-content .col-padding").css("height",e),$(this).css("top","0").css("left","0"),$(this).css("height","").css("width",""),$(this).parent().addClass("small-size"),$(this).parent().removeClass("actual-size"),$(this).parent().removeClass("clicked"),$(this).siblings().find(".open-hat").css("display","inline-block"),$(this).siblings().find(".close-hat").css("display","none"))}),$(".touch #hats .col-padding img").click(function(){$(this).parent().hasClass("clicked")&&($(this).parent().removeClass("clicked"),$(this).parents(".hats-content .col").css("height",e+2),$(this).parents(".hats-content .col-padding").css("height",e),$(this).css("top","0").css("left","0"),$(this).parent().addClass("small-size"),$(this).parent().removeClass("actual-size"),$(this).parent().removeClass("clicked"),$(this).siblings().find(".open-hat").css("display","inline-block"),$(this).siblings().find(".close-hat").css("display","none"))}),$(".draggable").draggable({cancel:".small-size img",scroll:!1,drag:function(s,t){var i=t.position.top,a=t.position.left;t.position.top<0&&-1*t.position.top>e&&(i=-1*e),t.position.top>0&&(i=0),t.position.left<0&&-1*t.position.left>e&&(a=-1*e),t.position.left>0&&(a=0),t.position.top=i,t.position.left=a}}),$(".hats-content .col-padding").each(function(){var s=$(this).find("img").size();s>1&&$(this).find(".controls").prepend('<span class="icon-wrapper hats turn-hat" title="Alternate view" alt="Alternate view"><svg><use xlink:href="#infopanelturn-icon"></use></svg></span>')}),$(".turn-hat").click(function(){var s=$(this).parents(".hats-content .col-padding").find("img.active").removeClass("active").next("img");s.length?s.addClass("active"):$(this).parents(".hats-content .col-padding").find("img:first").addClass("active")})});